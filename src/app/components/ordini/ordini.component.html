<div class="orders-wrapper">
  <h1>Orders</h1>
  <div class="table-container">
    <table class="table" *ngIf="listOrdini.length > 0; else noOrders">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">ID Pay Cards</th>
          <th scope="col">Total Amount</th>
          <th scope="col">Order Status</th>
          <th scope="col">Created At</th>
          <th scope="col">Details Order</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let ordine of listOrdini; index as i">
          <th scope="row">{{ ordine.id }}</th>
          <td>{{ ordine.payCardsDTO.id }}</td>
          <td>{{ ordine.totalAmount | currency: 'EUR' }}</td>
          <td>{{ ordine.orderStatus }}</td>
          <td>{{ ordine.createdAt | date: 'yyyy/MM/dd' }}</td>
          <td>
            <button 
              type="button" 
              class="btn btn-primary"
              data-bs-toggle="modal" 
              data-bs-target="#detailModal"
              (click)="loadOrderDetails(ordine)">
              View Details
            </button>
          </td>
        </tr>
      </tbody>
    </table>

    <ng-template #noOrders>
      <p class="no-orders-message">No orders have been placed by this user.</p>
    </ng-template>
  </div>
</div>

<!-- Modal per i dettagli dell'ordine -->
<app-detail-modal [order]="selectedOrder"></app-detail-modal>
